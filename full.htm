<title>LZMA decoder</title><style>
pre{border:1px solid #8f8;background:#cfc}
iframe{height:3em;background:#ddd}
iframe,textarea{width:100%;display:block}
textarea{height:9em;background:#ccc;color:#333;padding:.5em}
em{border:1px solid #222;background:#bbb;color:#333}</style>
<h1>Tiny code of LZMA decoder</h1>
<h2>Limited version</h2>
-eos option must be enabled when compress file(<em>lzma.exe e inFile outFile -eos </em>)
<pre>usage:
function f(u)
@u: Array/Uint8Array
@return: Array Object

//example
var a=f([93,6,0,0,0,255,255,255,255,255,255,255,255,0,49,24,74,32,179,227,228,65,223,139,255,251,145,64])
console.log(a)//[98,97,110,97,110,97]</pre>
<p>decoder size is only 815 bytes. function name is f.
<textarea id=a>for(f='r(Yk=X>>>WhWV:1U--T):Sp+~bRdW5,Qb,b=P>a?Oa=7ONa=0,M256;L-=K+=J||(I=1H<<GHGeFfoYE;E;D1)C1C,B++]A1,@f[],);f(e=c,16+,j=tc=,d;d<L)l=o[pA==v,v=PT;)a*d))a)?(:Y3*iu[a]else{return 	,n=nG8|s[iAdJd+)El)>e;bJcGe++)=6],V24IhG=8=(u,Mc)=>{var d=Xc)?C?Y8,C26C+85BkJ2,Nf,d/9,fIH024d*(VBc>nW0?(h=J2048-Q0S(hKnKKQC	c},r@aDau+c	d^F},s=u,t,v,w=d%9,l,n,mF/5,gF%5,p=d=Mb,o=[hH6|gTG8,iH8-h,kDhh]=[]D;d=p&m-C1{X0a))234jSt,t=vSeeS(X!5&&(N9:BkI98U187U0,tY76,6>k?k-2G6U92b>3)u=bW@P(2|b&CGTuH4>c)El=b+31-c;u+lE;4<uV=@n-V3@nKh&T-cEbJdG4H;4b<0)	o}}ER;ko[eA}l=(lW8-w|(p&g)Gw)]H;7>a;Eo[R]XeW7&@eG=@=l|k+1G8),c^k}d-LaK4OaU0O3:6}}';_=/[-@-Y]/.exec(f);)with(f.split(_))f=join(shift());eval(f)</textarea>
<p>html+js 974 bytes
<textarea id=t><input type=file oninput='for(f=`>>>qhqpA=m:1k--):_rrayZnew Ydq5,X>a?Wa=7WVL+~bT256;S))Qr(P-=N+=M||(K=1J<<IJIeHfoPG;G;F1)E1E,D++]C1,$f[#],"f(ie=c,16+,j=t);c=,d;d<S)l=o[LC==v,v=b,b=;)"a*dQ"a)?((u,a=0,c)=>:P3*#u[a]else{return 	,n=nI8|s[iCYUint8AZ(dMd+)Gl)>e;bMcIe++)=6],p24KhI=8={var d="mc)?E?P8,E26E+85DAM2,Vfiles[0].aZBuffeP).then(d.href=self.URL.createObjectURL(YBlob([uQ)]Qf,d/9,fKJ024d*(pDc>nq0?(h=M2048-X0_(hNnNNXE	c},r$aFau+c	d^H},s=u,t,v,w=d%9,l,n,BH/5,gH%5,L=d=0,b,o=["hJ6|gI8,iJ8-h,AFh#h]=[]F;d=L&B-E1{m0"aQ234j_t,t=v_ee_(m!5&&(V9:DAK#98k1#87k0,tP#7"6,6>A?A-2I6k92b>3)u=bq$b,b=(2|b&EIuJ4>c)Gl=b+31-c;u+lG;4<up=$n-p3$nNh&-cGbMdI4J;4b<0)	o}}GT;Ao[eC}l=#(lq8-w|(L&g)Iw)]J;7>a;Go[T]meq7&$eI=$=l|A+1I8),c^A}d-SaN4Wak0W3:6}}`;_=/[^ !%-BLORU[-^a-jlnor-~]/.exec(f);)with(f.split(_))f=join(shift());eval(f)'><a id=d download>DL</textarea>
<p>Test above code. click 'DL' to download file when process is done.<iframe src=about:blank id=i0></iframe><hr>
<h2>More compatible version</h2>
<pre>usage:
function f(u)
@u: Array/Uint8Array
@return: Array Object

// without -eos
a=f([93,6,0,0,0,6,0,0,0,0,0,0,0,0,49,24,74,32,179,227,218,138,220,140]),
// with -eos
b=f([93,6,0,0,0,255,255,255,255,255,255,255,255,0,49,24,74,32,179,227,228,65,223,139,255,251,145,64]);

console.log(a,b)//[98,97,110,97,110,97], [98,97,110,97,110,97]</pre>
<p>decoder size is 845 bytes. function name is f. not requires -eos option. uncompressed file size limit is 2<sup>53</sup>bytes. but can't over limit of Array Object size.
<textarea>for(f=`:1wk=Z--Yr(X):W>>>VhVU256;Td<T)Sp+~bR>a?Qa=7QPb,b=OdV5,N-=M=1L<<KLKeJ++]I1)H1H,G||(F=0,Ef[D,dCfoXBB;+=1,);f(c,e=16+,j=tc=],l=o[pI==v,v=OY;)a*d))a)?(:X3C*iu[a]else{,n=nK8|s[iI	dd+Dreturn )SlC)>e;bcKe++)=6d,U24FhK=8	=(u,aEc)=>{var d=Zc)?H?X8,H26H+85Gk2,Pf,d/9,fFL024d*(UGc>nV0?(h=2048-N0W(hMnMMNHc},ra;auC+cd^J},s=u,t,v,q=d%9,l,n,mJ/5,gJ%5,p=a=dEAEb,o=[hL6|gYK8,iLkL;hDh]=[];i<18;)Ak*s[i-6]	,k*=Tp<A;d=p&m-H1{Z0a))234jWt,t=vWeeW(Z!5&&(P9:GkFD98w1D87w0,tXD76,6>k?k-2K6w92b>3)u=bVO(2|b&HKYuCL4>c)Bl=b+31-c;u+l4<uU=n-U3nMh&Y-cBbdK4CL;4b<0)o}}BR;ko[eI}l=D(lV8-q|(p&g)Kq)dL;7>a;Bo[R];SZeV7&eK==lC|k+1K8),c^k}d-TaM4Qaw0Q3:6}o}`;_=/[-B-Zw]/.exec(f);)with(f.split(_))f=join(shift());eval(f)</textarea>
<p>html+js 1003 bytes
<textarea id=u><input type=file oninput='for(f=`>>>qhqpA=m:1k--):_rrayZnew Ydq5,X>a?Wa=7WVO+~bT))Sr(Q-=P||(N=1M<<KMKeJ=0,I1)H1H,G++]FfoQEE;Df[C],$+=#1,"f(ie=c,16+,j=t);c=,dl=o[OF==v,v=b,b=256;;)$a*dS$a)?((u,aIc)=>:Q3*Cu[a]else{,n=nK8|s[iF	YUint8AZ(d#d+return )Dd<)l)>e;b#cKe++)=6],p24NhK=8	={var d=$mc)?H?Q8,H26H+85GA#2,Vfiles[0].aZBuffeQ).then(d.href=self.URL.createObjectURL(YBlob([uS)]Sf,d/9,fNM024d*(pGc>nq0?(h=#2048-X0_(hPnPPXHc},r"a;Dau+cd^J},s=u,t,v,w=d%9,l,n,BJ/5,gJ%5,O=dILIb,o=[$hM6|gK8,iM"AM;DhCh]=[];Di<18;)L#A*s[i-6]	,A*=DO<L;d=O&B-H1{m0$aS234j_t,t=v_ee_(m!5&&(V9:GANC98k1C87k0,tQC7$6,6>A?A-2K6k92b>3)u=bq"b,b=(2|b&HKuM4>c)El=b+31-c;u+lD4<up="n-p3"nPh&-cEb#dK4M;4b<0)o}}ET;Ao[eF}l=C(lq8-w|(O&g)Kw)]M;7>a;Eo[T];d<)meq7&"eK="=l|A+1K8),c^A}d-aP4Wak0W3:6}o}`;_=/[^ !%-BLORU[-^a-jlnor-~]/.exec(f);)with(f.split(_))f=join(shift());eval(f)'><a id=d download>DL</textarea>
<p>Test above code. click 'DL' to download file when process is done.<iframe src=about:blank id=i1></iframe>
<script>((a,b)=>{for(b of"tu")self["i"+a++].srcdoc=self[b].value})(0)</script>