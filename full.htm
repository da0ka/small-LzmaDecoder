<title>lzma decoder</title><style>pre{border:1px solid #8f8;background:#cfc}iframe,textarea{width:100%;display:block}iframe{height:3em;background:#eee}textarea{height:9em;background:#222;color:#ccc}</style>
<h1>tiny code of LZMA decoder</h1>
<h2>limited version</h2>
-eos option must be enabled when compress file(lzma.exe e infile outile.lzma -eos)
<pre>usage:
function f(u)
@u: Array/Uint8Array
@return: Array Object

//example
var a=f([93,6,0,0,0,6,0,0,0,0,0,0,0,0,49,24,74,32,179,227,228,65,223,139,255,251,145,64])
console.log(a)//[98,97,110,97,110,97]</pre>
<p>decoder size is only 818 bytes. function name is f.
<textarea id=a>for(f='r(Xk=W>>>VhVU:1T--S):Rp+~bQdV5,Pb,b=O>a?Na=7NM256;L,j=tK-=J+=I||(H=1G<<FGFeEfoXD;D;C1)B1B,A++]@1,f[,d);f(e=16+c=c,;d<L)],a)?(l=o[p@=a*d))=v,v=Ou[a]S;):X3*ielse{return 	,n=nF8|s[i@dId+)Dl)>e;bIcFe++)=6d,U24HhF=8=(u,a,c)=>{var d=W0)?B?X8,B26B+85AkI2,Mfu[0d/9,fHG024d*(UAc>nV0?(h=I2048-P0R(hJnJJPB	c},raCau+c	d^E},s=u,t,v,w=d%9,j,l,n,mE/5,gE%5,p=d=a=0,b,o=[hG6|gSF8,iG8-h,kChh]=[]C;d=p&m-B1{W0a))234jKRt,t=vReeR(W!5&&(M9:AkH98T187T0K,tX76,6>k?k-2F6T92b>3)u=bVO(2|b&BFSuG4>c)Dl=b+31-c;u+lD;4<uU=n-U3nJh&S-cDbIdF4G;4b<0)	o}}DQ;ko[e@}l=(lV8-w|(p&g)Fw)dG;7>a;Do[Q]WeV7&eF==l|k+1F8),c^k}d-LaJ4NaT0N3:6}}';_=/[-@-X]/.exec(f);)with(f.split(_))f=join(shift());eval(f)</textarea>
<p>html+js 1017 bytes
<textarea id=t><input id=b type=file><script>for(f='256;q>a?pa=7p`A=_--Z+]Y-=X5,W>>>VhVT0)St,t=vQArrayP=1N<<MNMeKr(JfoJI;I;H||(GreE1,Df[Cc=$e=#16+"],a*"d))new 1));f(i;d<q),dc,=d=o[F+=b,b=a)?(Z;):J3*"n=nM8|s[i+YEturn =(u,a,c)=>{var d=else{	u[a]CUint8P(d++)Il)>e;b+=cMe++)=$6],T24GhM=8,_S??"J8,26+851,A+=2,`b.onchangewith(FileReader)EadAsPBuffeJb.files[0]),onloadd.hEf=URL.cEateObjectURL(Blob([Esult),S)]))}};f,e/9,fGN024c*(T1,$c>nV0?(h=+=2048-dVWS:(hXnX-VWc},rD#aHau+cd^K},s=u,t,v,w%9,j,l,n,BK/WgK%WF=0,b,o=[hN6|gZM8,iN8-h,AHhCh]=[H;d=F&B-1{#_0a))234#j,j=t):#Q):#v,ve):(_!5&&(`9:1,AG$C98:11	$C87:10,j=Q,vJC76,6>A?A-2M6:192b>3)u=bVDc(2|b&MZuN4>c)Il=b+31-c;u+l	I;4<uT=D$n-T3DnXh&Z-cIb+M4N;4b<So}}I#F+~b;AlY=o[e+Y}	l=C"(lV8-w|(F&g)Mw)]N;7>a;	Ie~b]_eV7&DeM=D=$l|A+1M8),c^A}lY-qaX4pa:10p3:6}}';_=/[^ !%-BFLORU[-^a-or-~]/.exec(f);)with(f.split(_))f=join(shift());eval(f)</script><a id=d>DL</textarea>
<p>test. right click to download file when process is done. target is 'DL'<iframe src=about:blank id=i0></iframe>
<h2>more compatible version of original LZMA</h2>
<p>decoder 854 bytes. not requires -eos option. uncompressed file size limit is 2<sup>53</sup>bytes.
<textarea>for(f=':1Xk=W--Vr(U):T>>>ShSR256;Qd<Q)Pp+~bO>a?Na=7NMb,b=L,j=tKdS5,J-=I=1H<<GHGeF++]E1)D1D,C||(B1,Af[@,dfoU;+=);f(e=16+c,c=],a)?(l=o[pE==v,v=La*d))V;)u[a]:U3*ielse{,n=nG8|s[iE	dd+@return )Pl)>e;bcGe++)=6d,R24BhG=8	=(u,a,c)=>{var d=W0)?D?U8,D26D+85Ck2,Mfu[0d/9,fBH024d*(RCc>nS0?(h=2048-J0T(hInIIJDc},rAa;au+cd^F},s=u,t,v,q=d%9,j,l,n,mF/5,gF%5,p=a=d=u=0,w=0,b,o=[hH6|gVG8,iH8-h,kH;h@h]=[]	;7>u;)ws[u+++5]*k,k*=Qp<w;d=p&m-D1{W0a))234jKTt,t=vTeeT(W!5&&(M9:CkB@98X1@87X0K,tU@76,6>k?k-2G6X92b>3)u=bSAL(2|b&DGVuH4>c)l=b+31-c;u+l4<uR=An-R3AnIh&V-cbdG4H;4b<0)o}}O;ko[eE}l=@(lS8-q|(p&g)Gq)dH;7>a;o[O];PWeS7&AeG=A=l|k+1G8),c^k}d-QaI4NaX0N3:6}o}';_=/[-@-X]/.exec(f);)with(f.split(_))f=join(shift());eval(f)</textarea>
<p>html+js 1054 bytes
<textarea id=u><input id=b type=file><script>for(f=':1zA=x--q>>>phpm0)k256;`d<`)_F+~bZ>a?Ya=7YXb,b=W,j=tVdp5,T-=Sr(QreP=1N<<MNMeK++]J1)I1I,H||(GArrayE1,Df[C,d$foQ##;"+=);f(ie=16+new c,c=],l=o[FJ==v,v=Wq;)a*d))a)?(:Q3$*Cu[a]else{=(u,a,c)=>{var d=	,n=nM8|s[iJUint8E(dd+Pturn )"_l$)>e;bcMe++)=6d,m24GhM=8xk?I?Q8,I26I+85HA2,Xb.onchangewith(FileReader)PadAsEBuffeQb.files[0]),onloadd.hPf=URL.cPateObjectURL(Blob([Psult),k)]))}};f	,d/9,f	GN024d*(mHc>np0?(h=2048-Tk:(hSnSSTIc},r	Da;"au$+cd^K},s=u,t,v,w=d%9,j,l,n,BK/5,gK%5,F=d=u=0,L=0,b,o=[hN6|gqM8,iN8-h,AN;"hCh]=[];"u<7;)Ls[u+++5]*A,A*=`"F<L;d=F&B-I1{x0a))234jV):t,t=v):ee):(x!5&&(X9:HAGC98z1C87z0V,tQC76,6>A?A-2M6z92b>3)u=bpDW(2|b&IMqu$N4>c)#l=b+31-c;u+l"4<um=Dn-m3DnSh&q-c#bdM4$N;4b<ko}}#Z;Ao[eJ}l=C(lp8-w|(F&g)Mw)dN;7>a;#o[Z];_xep7&DeM=D=l$|A+1M8),c^A}d-`aS4Yaz0Y3:6}o}';_=/[^ !%-BFLORU[-^a-jlnor-wy{-~]/.exec(f);)with(f.split(_))f=join(shift());eval(f)</script><a id=d>DL</textarea>
<p>test<iframe src=about:blank id=i1></iframe>
<script>((a,b)=>{for(b of["t","u"])with(self["i"+a++].contentWindow.document)open(),close(write(self[b].value))})(0)</script>